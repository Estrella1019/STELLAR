# ğŸ¯ æœ€ç»ˆé…ç½®å»ºè®®

## âš ï¸ **æ ¸å¿ƒé—®é¢˜**

æµ‹è¯•å‘ç° **DeepSeek-R1** ä½œä¸º SUTï¼ˆè¢«æµ‹ç³»ç»Ÿï¼‰å­˜åœ¨ä¸¥é‡é—®é¢˜ï¼š
- âœ… æ‰€æœ‰å“åº”éƒ½æ˜¯ç©ºçš„
- âŒ æ— æ³•è¿›è¡Œæœ‰æ•ˆæµ‹è¯•

**åŸå› **ï¼š
1. DeepSeek-R1 å¤ªå®‰å…¨ï¼Œå¯¹æ‰€æœ‰é—®é¢˜éƒ½æ‹’ç­”ï¼ˆè¾“å‡ºç©ºå­—ç¬¦ä¸²ï¼‰
2. æˆ–è€… R1 çš„æ€è€ƒè¿‡ç¨‹è¢«æ¸…æ´—å‡½æ•°å®Œå…¨ç§»é™¤

---

## âœ… **æ¨èé…ç½®æ–¹æ¡ˆ**

### æ–¹æ¡ˆ Aï¼šä½¿ç”¨ Dolphin3 ä½œä¸º SUTï¼ˆå¼ºçƒˆæ¨èï¼‰

```bash
# æ¨¡å‹é…ç½®
SUT (è¢«æµ‹ç³»ç»Ÿ): dolphin3:latest    # æ›´å®¹æ˜“è¢«æ”»å‡»
Judge: qwen2.5:7b                  # ç¨³å®šå¯é 
Generator: dolphin3:latest         # ç”Ÿæˆæ”»å‡»
```

**ä¼˜åŠ¿**ï¼š
- âœ… Dolphin3 æ˜¯æœªå®¡æŸ¥æ¨¡å‹ï¼Œä¼šå“åº”å±é™©é—®é¢˜
- âœ… èƒ½å¤ŸçœŸå®æµ‹è¯•å®‰å…¨æ€§æ¼æ´
- âœ… Qwen2.5 ä½œä¸º Judge æ›´ç¨³å®š

**æ‰§è¡Œ**ï¼š
```bash
# ä¿®æ”¹å®éªŒè„šæœ¬ä¸­çš„ --sut å‚æ•°
--sut "dolphin3"
--judge "qwen2.5:7b"
--fitness "qwen2.5:7b"
```

---

### æ–¹æ¡ˆ Bï¼šä¿æŒ DeepSeek-R1ï¼Œä½†å¢åŠ å“åº”é•¿åº¦

```bash
# ä¿®æ”¹ llm/config.py
MAX_TOKENS = 1000  # ä» 400 å¢åŠ åˆ° 1000

# æ£€æŸ¥ call_ollama.py ä¸­çš„ num_predict
```

**ä½†ä¸æ¨è**ï¼šDeepSeek-R1 å¤ªå®‰å…¨ï¼Œå³ä½¿å“åº”ä¸ä¸ºç©ºï¼Œä¹Ÿå¯èƒ½å…¨æ˜¯æ‹’ç­”ã€‚

---

## ğŸš€ **å¿«é€Ÿå¼€å§‹ï¼ˆæ¨èé…ç½®ï¼‰**

### 1. ä¸‹è½½ Qwen2.5ï¼ˆå¦‚æœè¿˜æ²¡æœ‰ï¼‰

```bash
ollama pull qwen2.5:7b
```

### 2. è¿è¡Œå•ä¸ªå¿«é€Ÿæµ‹è¯•

```bash
cd /Users/panjiaying/Documents/Projects/STELLAR

# ä½¿ç”¨ä¿®å¤åçš„è„šæœ¬ï¼ˆ10åˆ†é’Ÿå¿«é€Ÿæµ‹è¯•ï¼‰
python run_tests_safety.py \
    --sut "dolphin3" \
    --judge "qwen2.5:7b" \
    --fitness "qwen2.5:7b" \
    --generator "dolphin3" \
    --population_size 100 \
    --n_generations 1 \
    --algorithm rs \
    --max_time "00:10:00" \
    --features_config "configs/safety_features.json" \
    --seed 1 \
    --no_wandb
```

### 3. éªŒè¯èƒ½æ£€æµ‹åˆ°å¤±è´¥

æ£€æŸ¥ `results/` ç›®å½•ï¼Œåº”è¯¥èƒ½çœ‹åˆ°ï¼š
- `failures_over_time.csv` ä¸­å¤±è´¥æ•° > 0
- å¤±è´¥ç‡çº¦ 10%-30%ï¼ˆä¸æ˜¯ 0% ä¹Ÿä¸æ˜¯ 100%ï¼‰

### 4. è¿è¡Œå®Œæ•´ä¸‰ç»„å®éªŒ

ä¿®æ”¹æ‰€æœ‰å®éªŒè„šæœ¬ï¼Œç„¶åè¿è¡Œï¼š

```bash
# ç¼–è¾‘æ‰€æœ‰ run_experiment_*.shï¼Œä¿®æ”¹ï¼š
--sut "dolphin3"
--judge "qwen2.5:7b"
--fitness "qwen2.5:7b"

# è¿è¡Œ
./run_all_experiments.sh
```

---

## ğŸ“Š **ä¸ºä»€ä¹ˆè¿™æ ·é…ç½®**

| è§’è‰² | æ¨¡å‹ | åŸå›  |
|------|------|------|
| **SUT** | dolphin3 | æœªå®¡æŸ¥æ¨¡å‹ï¼Œå®¹æ˜“è¢«æ”»å‡»ï¼Œèƒ½æµ‹è¯•å®‰å…¨æ€§ |
| **Judge** | qwen2.5 | ç¨³å®šå¯é ï¼Œè¯„åˆ†å‡†ç¡® |
| **Fitness** | qwen2.5 | åŒ Judge |
| **Generator** | dolphin3 | æ“…é•¿ç”Ÿæˆå¤šæ ·åŒ–æ”»å‡» |

---

## âœ… **ä¿®æ”¹æ¸…å•**

ç¼–è¾‘ä»¥ä¸‹æ–‡ä»¶ï¼Œæ›¿æ¢æ¨¡å‹ï¼š

```bash
# 1. run_experiment_1_random.sh
--sut "dolphin3"
--judge "qwen2.5:7b"
--fitness "qwen2.5:7b"

# 2. run_experiment_2_twise.sh
--sut "dolphin3"
--judge "qwen2.5:7b"
--fitness "qwen2.5:7b"

# 3. run_experiment_3_stellar.sh
--sut "dolphin3"
--judge "qwen2.5:7b"
--fitness "qwen2.5:7b"
```

---

## ğŸ¯ **é¢„æœŸç»“æœ**

ä½¿ç”¨ dolphin3 ä½œä¸º SUTï¼Œåº”è¯¥èƒ½çœ‹åˆ°ï¼š

- **RANDOM**: ~50-150 failures
- **T-wise**: ~80-200 failures
- **STELLAR**: ~150-400 failuresï¼ˆ**2-3å€æ”¹è¿›**ï¼‰

---

**ç«‹å³æ‰§è¡Œï¼š**

```bash
# 1. æ‹‰å– qwen2.5
ollama pull qwen2.5:7b

# 2. ä¿®æ”¹å®éªŒè„šæœ¬ä¸­çš„æ¨¡å‹é…ç½®
# 3. è¿è¡Œå®éªŒ
./run_all_experiments.sh
```

æˆ–è€…ä½¿ç”¨æˆ‘åˆ›å»ºçš„ä¿®å¤ç‰ˆè„šæœ¬ï¼š
```bash
chmod +x run_experiment_1_random_fixed.sh
./run_experiment_1_random_fixed.sh  # å¿«é€Ÿæµ‹è¯•
```
